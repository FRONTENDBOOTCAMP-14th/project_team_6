<!DOCTYPE html>
<html lang="ko-KR" class="vscode">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VS Code Clone</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <link rel="stylesheet" href="index/vscode.css" />
  </head>
  <body class="vscode__body">
    <div class="vscode__app">
      <!-- 메뉴 바 -->
      <div class="vscode__menubar">
        <div class="vscode__menubar-item">File</div>
        <div class="vscode__menubar-item">Edit</div>
        <div class="vscode__menubar-item">View</div>
        <div class="vscode__menubar-item">Go</div>
        <div class="vscode__menubar-item">Run</div>
        <div class="vscode__menubar-item">Terminal</div>
        <div class="vscode__menubar-item">Help</div>
      </div>

      <div class="vscode__main">
        <!-- 액티비티 바 -->
        <div class="vscode__activity-bar">
          <div class="vscode__activity-bar-item vscode__activity-bar-item--active" data-view="explorer">
            <i class="fas fa-code"></i>
          </div>
          <div class="vscode__activity-bar-item" data-view="search">
            <i class="fas fa-search"></i>
          </div>
          <div class="vscode__activity-bar-item" data-view="git">
            <i class="fas fa-git-alt"></i>
          </div>
          <div class="vscode__activity-bar-item" data-view="debug">
            <i class="fas fa-bug"></i>
          </div>
          <div class="vscode__activity-bar-item" data-view="extensions">
            <i class="fas fa-puzzle-piece"></i>
          </div>
        </div>

        <!-- 에디터와 터미널 컨테이너 -->
        <div class="vscode__editor-container">
          <!-- 사이드바 -->
          <div class="vscode__sidebar">
            <div class="vscode__explorer">
              <div class="vscode__explorer-header">EXPLORER</div>
              <!-- File explorer content will be inserted here by sidebar.js -->
            </div>
          </div>

          <!-- 에디터와 터미널 그룹 -->
          <div class="vscode__editor-group">
            <!-- 터미널 -->
            <div class="vscode__panel">
              <div class="vscode__panel-tabs">
                <div class="vscode__panel-tab vscode__panel-tab--active">Problems</div>
                <div class="vscode__panel-tab vscode__panel-tab--active">Output</div>
                <div class="vscode__panel-tab vscode__panel-tab--active">Debug Console</div>
                <div class="vscode__panel-tab vscode__panel-tab--active">Terminal</div>
              </div>
              <div class="vscode__terminal">
                <!-- Terminal content will be dynamically inserted by main.js -->
              </div>
            </div>

            <!-- Editor Area -->
            <div class="vscode__editor">
              <!-- Editor Tabs -->
              <div class="vscode__editor-tabs">
                <!-- Tabs will be dynamically inserted here by editor.js -->
              </div>

              <!-- Editor Content -->
              <div class="vscode__editor-content" contenteditable="true">
                <!-- Content will be dynamically inserted here by editor.js -->
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 상태 바 -->
      <div class="vscode__status-bar">
        <div class="vscode__status-bar-item">main*</div>
        <div class="vscode__status-bar-item">UTF-8</div>
        <div class="vscode__status-bar-item">LF</div>
        <div class="vscode__status-bar-item">HTML</div>
        <div class="vscode__status-bar-item">Ln 1, Col 1</div>
      </div>
    </div>
    <!-- Load main.js as a module -->
    <script type="module">
      console.log('Loading main.js...');

      // Import the initApp function
      import { initApp } from './src/main.js';

      // Initialize the app
      console.log('main.js loaded, initializing app...');
      initApp();

      // Error handling
      window.addEventListener('error', (event) => {
        console.error('Global error:', event.error || event.message);
      });

      window.addEventListener('unhandledrejection', (event) => {
        console.error('Unhandled promise rejection:', event.reason);
      });
    </script>

    <!-- Simple script to verify basic JS is working -->
    <script>
      console.log('Inline script running');
      document.addEventListener('DOMContentLoaded', () => {
        console.log('DOM fully loaded');
      });
    </script>
    
    <!-- Preview Button -->
    <button id="previewButton" class="vscode__preview-button">
      <i class="fas fa-eye"></i> Preview
    </button>
  </body>
</html>
